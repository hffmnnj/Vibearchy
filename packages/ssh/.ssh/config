# SSH Configuration
# Vibearchy - Optimized for Ghostty and Hyprland integration

# Default settings for all hosts
Host *
    # Keep connections alive to prevent timeouts
    ServerAliveInterval 60
    ServerAliveCountMax 3

    # Use SSH key authentication
    IdentityFile ~/.ssh/id_ed25519

    # Reuse connections for better performance
    ControlMaster auto
    ControlPath ~/.ssh/sockets/%r@%h:%p
    ControlPersist 10m

    # Enable compression
    Compression yes

# Example: Production Server
# Optimized for low latency with AES-NI hardware acceleration
Host myserver myserver.example.com
    HostName 192.168.1.100
    User your-username
    Port 22

    # Performance: Hardware-accelerated ciphers (AES-NI)
    Ciphers aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com

    # Performance: Fast MACs with Encrypt-Then-MAC
    MACs umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com

    # Performance: Disable compression on fast networks for lower latency
    Compression no

    # Performance: Low-latency packet handling
    IPQoS lowdelay throughput

    # Auto-reconnect settings
    ServerAliveInterval 30
    ServerAliveCountMax 5

    # Connection settings
    TCPKeepAlive yes

    # Enable connection sharing
    ControlMaster auto
    ControlPath ~/.ssh/sockets/%r@%h:%p
    ControlPersist 1h

# Example: Cloudflare Tunnel Access
# For accessing machines behind Cloudflare Zero Trust
Host remote-desktop remote-desktop.example.com
    HostName tunnel.example.com
    User admin
    ProxyCommand cloudflared access ssh --hostname tunnel.example.com

    # Connection settings
    ServerAliveInterval 30
    ServerAliveCountMax 5
